<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gestionar Eventos - Congreso Universitario</title>
    <link rel="stylesheet" href="../CSS/style.css">
    <style>
        
    </style>
</head>
<body>
    <header>
         <div class="header-top">
            <div class="main-title">
                 <h1>Congreso Universitario</h1>
            </div>
            <section class="sponsor-logos-header">
                <img src="../Logos/UAA_LOGO.png" alt="Logo Universidad Autónoma de Aguascalientes">
                <img src="../Logos/logo-ccea.png" alt="Logo CCEA">
                <img src="../Logos/MKT_LOGO.png" alt="Logo MKT">
            </section>
        </div>
        <nav id="main-navigation">
            <ul>
                <li><a href="admin_dashboard.html">Panel Admin</a></li>
                <li><a href="admin_eventos.html" class="active">Gestionar Eventos</a></li>
                <li><a href="admin_usuarios.html">Gestionar Usuarios</a></li>
                <li><a href="admin_scan_qr.html">Escanear QR</a></li>
                <li><a href="admin_asistencia.html">Ver Asistencia</a></li>
                <li><a href="admin_inscripciones.html">Ver Inscripciones</a></li>
                <li><a href="admin_constancias.html">Constancias Emitidas</a></li>
                <li><a href="admin_justificacion.html">Gestionar Justificaciones</a></li>
                <li class="user-menu">
                    <span id="admin-name-placeholder">Bienvenido, [Nombre Admin]</span>
                    <a href="#" id="logout-button" class="logout-button button">Cerrar Sesión</a>
                </li>
            </ul>
        </nav>
    </header>

    <main>
        <h2>Gestionar Eventos</h2>

        <div id="alert-placeholder" style="margin-top: 1rem;"></div>


        <div class="page-actions" style="margin-bottom: 2rem; text-align: right;">
            <button id="btn-mostrar-formulario" class="button register-button">Crear Nuevo Evento</button>
        </div>

        <section id="crear-evento-form-section" class="content-box" style="margin-top: 1rem; display: none;">
            <h3 id="form-evento-titulo-display">Crear Nuevo Evento</h3>
            <form id="form-evento">
                <input type="hidden" id="id_evento" name="id_evento">
                <div class="form-group">
                    <label for="nombre_evento">Título del Evento:</label>
                    <input type="text" id="nombre_evento" name="nombre_evento" required>
                </div>
                <div class="form-group">
                    <label for="ponente">Ponente:</label>
                    <input type="text" id="ponente" name="ponente">
                </div>
                <div style="display: flex; gap: 1rem;">
                    <div class="form-group" style="flex:1;">
                        <label for="fecha_inicio">Fecha Inicio:</label>
                        <input type="date" id="fecha_inicio" name="fecha_inicio" required>
                    </div>
                    <div class="form-group" style="flex:1;">
                        <label for="hora_inicio">Hora Inicio:</label>
                        <input type="time" id="hora_inicio" name="hora_inicio" required>
                    </div>
                </div>
                <div style="display: flex; gap: 1rem;">
                    <div class="form-group" style="flex:1;">
                        <label for="fecha_fin">Fecha Fin:</label>
                        <input type="date" id="fecha_fin" name="fecha_fin" required>
                    </div>
                    <div class="form-group" style="flex:1;">
                        <label for="hora_fin">Hora Fin:</label>
                        <input type="time" id="hora_fin" name="hora_fin" required>
                    </div>
                </div>
                <div class="form-group">
                    <label for="lugar">Lugar:</label>
                    <input type="text" id="lugar" name="lugar">
                </div>
                <div class="form-group">
                    <label for="cupo_maximo">Cupo Máximo:</label>
                    <input type="number" id="cupo_maximo" name="cupo_maximo" min="0">
                </div>
                
                 <div class="form-group">
                    <label for="genera_constancia">Genera Constancia:</label>
                    <select id="genera_constancia" name="genera_constancia">
                        <option value="0" selected>No</option>
                        <option value="1">Sí</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="descripcion">Descripción:</label>
                    <textarea id="descripcion" name="descripcion" rows="4"></textarea>
                </div>
                <div class="form-group">
                <label for="tipo_evento">Tipo de Evento:</label>
                <select id="tipo_evento" name="tipo_evento">
                    <option value="conferencia" selected>Conferencia</option>
                    <option value="taller">Taller</option>
                </select>
                </div>

              <div class="form-group">
                    <label for="horas_para_constancia">Horas Mínimas para Constancia (para talleres):</label>
                    <input type="number" step="0.1" id="horas_para_constancia" name="horas_para_constancia" min="0" placeholder="Ej. 2.5">
                </div>

                <div class="form-actions">
                    <button type="submit" class="button register-button">Guardar Evento</button>
                    <button type="button" id="btn-cancelar-edicion" class="button secondary" style="display:none;">Cancelar Edición</button>
                    <button type="reset" class="button secondary" id="btn-limpiar-form">Limpiar</button>
                </div>
            </form>
        </section>

        <section id="lista-eventos" style="margin-top: 2rem;">
            <h3>Lista de Eventos Actuales</h3>
             <div id="loading-indicator-eventos" style="display: none; text-align:center; padding: 2rem;">Cargando eventos...</div>
            <div id="eventos-container">
                </div>
        </section>

    </main>

    <footer>
        <p>&copy; 2025 Congreso Universitario. Todos los derechos reservados.</p>
    </footer>

    <script src="../js_admin/admin_eventos.js"></script>
</body>
</html>